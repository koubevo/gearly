import{o as e,d as r,a as s,f as o,u as C,L as k,r as _,w as l,g as f,F as y,A as M,c as g,e as m,_ as v,D as j,M as B}from"./app-VWntmNPg.js";import{_ as O}from"./Card-aIDy6iIt.js";import{_ as L}from"./PrimaryButton-DikHGelx.js";import{D as w}from"./Divider-Ds5P7NCQ.js";import{_ as N}from"./Heading1-BZ-l9Rza.js";import{_ as V}from"./Modal-Bx8ZObbX.js";import{_ as D}from"./ConditionLike-abaPhGcb.js";import{_ as E}from"./NothingHere-BLSNFvV3.js";import"./SmallText-BqarmYtf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NormalText-CvxrWY5B.js";function F(d,u){return e(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}const S={class:"bg-white border-2 border-black border-solid px-4 py-2 text-black font-medium",onclick:"openModal()"},T={__name:"SortingButton",setup(d){return(u,n)=>(e(),r("button",S,[o(C(F),{class:"w-5 h-5 stroke-[2.5]"})]))}},A={class:"grid grid-cols-2 items-center my-6"},G={class:"flex justify-end"},I={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-8"},P={key:1,class:"flex justify-center my-6"},U={key:0},q={key:1},z={key:0},H={class:"p-6"},J={class:"flex justify-between items-end"},K={class:"flex flex-col md:flex-row gap-2"},Q={__name:"OffersGrid",setup(d){const u=k().props.offers.data,n=_([...u]),c=_(k().props.offers.next_page_url),i=_(!1),b=async()=>{if(!(!c.value||i.value)){i.value=!0;try{const a=await j.get(c.value);n.value.push(...a.data.data),c.value=a.data.next_page_url}catch(a){console.error("Error loading more offers:",a)}finally{i.value=!1}}},p=_(!1),$=()=>{p.value=!0},h=()=>{p.value=!1};return(a,t)=>(e(),r(y,null,[s("div",null,[s("section",A,[s("div",null,[o(N,null,{default:l(()=>t[0]||(t[0]=[f("Offers")])),_:1})]),s("div",G,[s("div",null,[o(T,{onClick:$})])])]),o(w,{class:"md:w-full mb-4"}),n.value.length?(e(),r("section",I,[(e(!0),r(y,null,M(n.value,x=>(e(),g(O,{key:x.id,offer:x},null,8,["offer"]))),128))])):m("",!0),n.value.length?(e(),r("div",P,[s("div",null,[c.value?(e(),g(L,{key:0,onClick:b,disabled:i.value},{default:l(()=>[i.value?(e(),r("span",U,"Loading...")):(e(),r("span",q,"Load More"))]),_:1},8,["disabled"])):m("",!0)])])):m("",!0)]),n.value.length?m("",!0):(e(),r("div",z,[o(E,{text:"Try searching for something else"})])),o(V,{show:p.value,onClose:h},{default:l(()=>[s("div",H,[s("div",J,[o(D,null,{default:l(()=>t[1]||(t[1]=[f("Sort Offers")])),_:1}),s("button",{class:"text-gray-500 hover:text-black",onClick:h},"Ã—")]),o(w,{class:"md:w-full my-4"}),s("div",K,[o(v,{href:a.route("offer.index")},{default:l(()=>t[2]||(t[2]=[f("Most recent")])),_:1},8,["href"]),o(v,{href:a.route("offer.index",{order:0})},{default:l(()=>t[3]||(t[3]=[f("Cheapest")])),_:1},8,["href"]),o(v,{href:a.route("offer.index",{order:1})},{default:l(()=>t[4]||(t[4]=[f("Most expensive")])),_:1},8,["href"])])])]),_:1},8,["show"])],64))}},ne=Object.assign({layout:B},{__name:"Index",props:{offers:Object},setup(d){return(u,n)=>(e(),g(Q,{offers:d.offers},null,8,["offers"]))}});export{ne as default};
