import{i as C,o as s,c as h,w as i,g as c,t as f,p as N,u as _,P as k,d as o,a,r as V,e as g,F as w,z as D,n as S,f as t,y as B,O as $,_ as I}from"./app-CuUtu08i.js";import{_ as A,a as F}from"./ConditionLike-BpXrGKgM.js";import{_ as P}from"./Heading1-D0jDws2m.js";import{_ as p}from"./Heading3-DHHpLIvE.js";import{D as z,_ as E}from"./DangerButton-ChJZ04-a.js";import{_ as L}from"./Modal-kOIyklGx.js";import{_ as x}from"./NormalText-DkRq52PU.js";import{_ as O}from"./TinyText-CjSjlZie.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={__name:"Price",props:{price:Number,currency:String},setup(e){const n=e,l=C(()=>{if(n.price==null)return"0";const d=Number(n.price);return new Intl.NumberFormat("cs-CZ").format(d)});return(d,y)=>(s(),h(A,{class:"uppercase"},{default:i(()=>[c(f(l.value)+" "+f(e.currency),1)]),_:1}))}},M={__name:"DangerLink",props:{text:String},setup(e){return(n,l)=>(s(),h(_(k),{class:"danger-button-style"},{default:i(()=>[c(f(e.text),1),N(n.$slots,"default")]),_:3}))}},U={class:"flex gap-2 mb-0"},Z={class:"font-medium"},m={__name:"OfferDetail",props:{detail:String,detailValue:String},setup(e){return(n,l)=>(s(),o("div",U,[a("div",Z,f(e.detail)+":",1),a("div",null,f(e.detailValue),1)]))}},q={class:"gallery w-full mb-4"},G={class:"main-image"},H=["src"],J={class:"thumbnails"},K=["src","onClick"],Q={__name:"ImageViewer",props:{images:Array},setup(e){const n=e,l=V(0),d=C(()=>{var r;return((r=n.images)==null?void 0:r[l.value])||""}),y=()=>{l.value=l.value>0?l.value-1:n.images.length-1},u=()=>{l.value=l.value<n.images.length-1?l.value+1:0};return(r,v)=>(s(),o("div",q,[a("div",G,[e.images.length>1?(s(),o("button",{key:0,onClick:y,class:"nav left"},"‹")):g("",!0),a("img",{src:d.value,alt:"Offer image"},null,8,H),e.images.length>1?(s(),o("button",{key:1,onClick:u,class:"nav right"},"›")):g("",!0)]),a("div",J,[(s(!0),o(w,null,D(e.images,(j,b)=>(s(),o("img",{key:b,src:j,class:S({active:b===l.value}),onClick:ge=>l.value=b,alt:"Thumbnail"},null,10,K))),128))])]))}},R={class:"border-s-gray-900 border-4 border-e-0 border-y-0 p-2"},W={key:0},X={__name:"OfferUserDetail",props:{seller:Object,soldOffersCount:Number},setup(e){return(n,l)=>(s(),o("section",R,[t(p,null,{default:i(()=>[c(f(e.seller.name)+" ",1),e.seller.team?(s(),o("span",W,"("+f(e.seller.team)+")",1)):g("",!0)]),_:1}),t(x,null,{default:i(()=>l[0]||(l[0]=[c("Feedback")])),_:1}),e.soldOffersCount>0?(s(),h(x,{key:0,class:"mb-2"},{default:i(()=>[c("Already sold items: "+f(e.soldOffersCount),1)]),_:1})):g("",!0),t(O,{text:e.seller.location,class:"mb-0.5"},null,8,["text"]),e.seller.phone?(s(),h(O,{key:1,text:e.seller.phone},null,8,["text"])):g("",!0)]))}},Y={class:"grid grid-cols-12 md:gap-16 gap-0 pb-20"},ee={class:"col-span-12 md:col-span-6 items-center justify-center flex relative"},te={class:"col-span-12 md:col-span-6 md:pt-10"},le={class:"grid mb-6"},se={class:"grid mb-6"},ae={class:"flex flex-col gap-x-2 gap-y-0.5 text-sm mb-6"},re={class:"flex flex-col gap-x-2 gap-y-0.5 text-sm"},ne={key:0},ie={class:"my-6 hidden md:grid"},oe={class:"grid mb-2 md:relative fixed bottom-0 left-0 w-full p-2 md:hidden"},ce={key:1},fe={class:"my-6 flex gap-2"},ue={class:"p-6"},de={class:"font-bold"},me={class:"mt-6 flex justify-end gap-2"},ke={__name:"Show",props:{offer:Object,seller:Object,category:Object,deliveryOption:Object,brand:Object,filters:Object,images:Array,soldOffersCount:Number},setup(e){const n=B().props.auth.user??{},l=V(!1);function d(){l.value=!0}function y(){l.value=!1}return(u,r)=>(s(),o("div",Y,[a("div",ee,[t(Q,{images:e.images},null,8,["images"])]),a("div",te,[a("section",le,[t(P,{text:e.offer.name,class:"mb-3"},null,8,["text"]),t(T,{price:e.offer.price,currency:e.offer.currency},null,8,["price","currency"]),t(F,{offer:e.offer,class:"mt-2"},null,8,["offer"])]),a("section",se,[t(x,{class:"mb-4 pe-2"},{default:i(()=>[c(f(e.offer.description),1)]),_:1}),a("div",ae,[t(m,{detail:"Brand",detailValue:e.brand.name},null,8,["detailValue"]),t(m,{detail:"Sport",detailValue:e.offer.sport},null,8,["detailValue"]),t(m,{detail:"Category",detailValue:e.category.name},null,8,["detailValue"]),(s(!0),o(w,null,D(e.filters,v=>(s(),h(m,{detail:v.filter_category_name,detailValue:v.filter_name},null,8,["detail","detailValue"]))),256))]),a("div",re,[t(m,{detail:"Delivery Option",detailValue:e.deliveryOption.name},null,8,["detailValue"]),e.offer.delivery_detail?(s(),h(m,{key:0,detail:"Delivery Detail",detailValue:e.offer.delivery_detail},null,8,["detailValue"])):g("",!0)])]),t(_(k),{href:e.seller.id===_(n).id?"/profile":u.route("user.show",{user:e.seller.id})},{default:i(()=>[t(X,{seller:e.seller,soldOffersCount:e.soldOffersCount},null,8,["seller","soldOffersCount"])]),_:1},8,["href"]),e.seller.id!==_(n).id?(s(),o("div",ne,[a("section",ie,[t($,{text:"Chat with seller",href:u.route("chat.show",{offer:e.offer.id})},null,8,["href"])]),a("section",oe,[t($,{text:"Chat with seller",class:"w-full",href:u.route("chat.show",{offer:e.offer.id})},null,8,["href"])])])):(s(),o("div",ce,[a("section",fe,[t(I,{text:"Edit",href:u.route("offer.edit",{offer:e.offer.id})},null,8,["href"]),t(z,{onClick:d},{default:i(()=>r[0]||(r[0]=[c("Delete")])),_:1}),t(L,{show:l.value,onClose:y},{default:i(()=>[a("div",ue,[t(p,{class:"text-lg text-gray-900"},{default:i(()=>[r[1]||(r[1]=c(" Are you sure you want to delete offer ")),a("span",de,f(e.offer.name),1),r[2]||(r[2]=c("? "))]),_:1}),a("div",me,[t(E,{onClick:y},{default:i(()=>r[3]||(r[3]=[c(" Cancel ")])),_:1}),t(M,{href:u.route("offer.destroy",{offer:e.offer.id}),method:"delete"},{default:i(()=>r[4]||(r[4]=[c(" Delete Offer ")])),_:1},8,["href"])])])]),_:1},8,["show"])])]))])]))}};export{ke as default};
